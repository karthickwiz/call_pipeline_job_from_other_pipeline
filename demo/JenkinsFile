pipeline {
    agent any
  
  stages {
        stage('Initialize') {
            steps {
                echo 'setting...'   
                 bat 'set'
            }
        }

       stage('push') {
       
          steps {                               
            // bat 'cd C:/Karthick/Workspace/PCF/demo-5'		
			bat 'echo login..' 	 
          }
       }
     
       
       stage('PerformanceTest execution'){
		steps{
				echo "Jmeter started"
				bat "C:\\Users\\karthick.k\\Downloads\\apache-jmeter-5.1.1\\bin\\jmeter.bat -Jjmeter.save.saveservice.output_format=xml -n -t C:\\Users\\karthick.k\\Desktop\\jmeter\\performance.jmx -l PerformanceResults.html>"
		}
	
	}
	
	stage('Performance Report publishing'){
		steps{
				echo "Report publishing started"
				perfReport filterRegex: '', sourceDataFiles: 'PerformanceResults.html'
				
		}
	} 
     }     
    post { 
        always { 
           
             echo 'Build is completed Successfully!'
        }
    }
}
